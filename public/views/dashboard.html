<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="css/dashboard.css">
    <script src="https://code.angularjs.org/1.4.7/angular.js"></script>
    <script src="js/controllers/wildhacks.js"></script>
  </head>
  <body ng-app="wildhacks">
    <div ng-controller="DashboardCtrl">
      <h1>Applicants Accepted: {{acceptedCounter}}</h1>
      <input type="text" ng-model="searchTerm" placeholder="School name..." ng-model-options="{ debounce:500 }">
      <button ng-click="acceptAll()">Accept All</button>

      <table id="applicants">
        <th>
          <td>Over 18?</td>
          <td>Completed?</td>
          <td>Name</td>
          <td ng-click="reverse=!reverse;order('last_cache_time', reverse)">Submission Date</td>
          <td>School</td>
          <td>Year</td>
          <td>Travel</td>
          <td>Major</td>
          <td>Links</td>
          <td>Gender</td>
          <td>Hackathons</td>
          <td>Blurb</td>
          <td>Teammates</td>
        </th>
        <tr class={{applicant.status}} ng-repeat="applicant in (subset = (data | filter:{ school:searchTerm })) track by $index">
          <td>
            <form action="">
              <input type="radio" name="status" ng-model="applicant.status" ng-change="toggle(applicant)" value="accepted">Accept</br>
              <input type="radio" name="status" ng-model="applicant.status" ng-change="toggle(applicant)" value="rejected">Reject</br>
              <input type="radio" name="status" ng-model="applicant.status" ng-change="toggle(applicant)" value="waitlisted">Waitlist</br>
              <input type="radio" name="status" ng-model="applicant.status" ng-change="toggle(applicant)" value="unfinished">Unfinished</br>
              <input type="radio" name="status" ng-model="applicant.status" ng-change="toggle(applicant)" value="pending">Pending</br>
            </form>
          <td>{{applicant['18yet']}}</td>
          <td>{{applicant.finished}}</td>
          <td>{{applicant['first-name']}} {{applicant['last-name']}}</td>
          <td>{{applicant['last_cache_time'] | date:'MM/dd h:mm a' }}</td>
          <td>{{applicant.school}}</td>
          <td>{{applicant.year}}</td>
          <td>{{applicant.travel}}</td>
          <td>{{applicant.major}}</td>
          <td><a ng-show="'{{applicant.github}}'" href="{{applicant.github}}">GitHub</a>|<a ng-show="'{{applicant.website}}'" href="{{applicant.website}}">Website</a></td>
          <td>{{applicant.gender}}</td>
          <td>{{applicant.hackathons}}</td>
          <td class="blurb">{{applicant['why-do-you-want-to-come']}}</td>
          <td>{{applicant.teammates}}</td>
        </tr>
      </table>
    </div>
  </body>
</html>
